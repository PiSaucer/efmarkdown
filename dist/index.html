<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta charset="utf-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/vs.min.css"></link>
<link href="style.css" rel="stylesheet" type="text/css"></link>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
  <title>EF Browser Render</title>
</head>

<body>
    <div class="container-fluid">
    <h1>EF Render Bundle</h1>

    <ul class="nav nav-tabs" id="mainNav" role="tablist">
      <li class="nav-item">
        <button class="nav-link active" id="typography-tab" data-bs-toggle="tab" data-bs-target="#typography" type="button" role="tab" aria-controls="typography" aria-selected="true">Typography</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="lists-tab" data-bs-toggle="tab" data-bs-target="#lists" type="button" role="tab" aria-controls="lists" aria-selected="false">Lists</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="math-tab" data-bs-toggle="tab" data-bs-target="#math" type="button" role="tab" aria-controls="math" aria-selected="false">Math</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="blocks-tab" data-bs-toggle="tab" data-bs-target="#blocks" type="button" role="tab" aria-controls="blocks" aria-selected="false">Blocks</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="tables-tab" data-bs-toggle="tab" data-bs-target="#tables" type="button" role="tab" aria-controls="tables" aria-selected="false">Tables</button>
      </li>
    </ul>
  
    <div class="tab-content" id="mainNavContent">
        <div class="tab-pane fade show active markdownit" id="typography" role="tabpanel">
        Use `[[...]]` to denote key presses or button clicks, e.g. 
   
        ``` markdown
        Press [[Ctrl]]+[[V]] to paste. Press the [[=]]<!-- {.calculator} --> button on your calculator.
        ```
    
        ::: box Output
        Press [[Ctrl]]+[[V]] to paste. Press the [[=]]<!-- {.calculator} --> button on your calculator.
        :::  

        </div>
        <div class="tab-pane fade markdownit" id="lists" role="tabpanel">
            ## Unordered lists

            - unordered list items start with - and a space
            - items are not numbered

            ## Ordered lists

            1. a list item
            1. a second list item.

            ## Definition Lists

            ``` markdown
            some term
            : a very important concept definition

            another term
            : another very important concept definition
            ```

            ::: box Output
            some term
            : a very important concept definition

            another term
            : another very important concept definition
            :::

            ## Task Lists

            ``` markdown
            - [x] Item 1
            - [ ]  Item 2
            - [x] Item 3
            ```

            ::: box Output
            - [x] Item 1 <!-- {#cb-task1.task} -->
            - [ ]  Item 2 <!-- {#cb-task2} -->
            - [x] Item 3 <!-- {#cb-task3} -->
            :::
        </div>
        <div class="tab-pane fade markdownit" id="blocks" role="tabpanel">
            ::: spoiler click me
            *content*
            :::

            ::: aside Aside for Side Content
            Some side-content that is related to the main content.
            :::
            
            Here is a code block
        
            ``` matlab
            values = randi(10,1,5);
            for idx = 1:length(values)
                value = values(idx);
            end
            ```
            
            And some sample output
        
            ~~~ env-matlab
            >> 23;
            ans =  23
            ~~~
        </div>
        <div class="tab-pane fade markdownit" id="math" role="tabpanel">
            The quadratic formula:

            $$
            x = \frac{-b\pm\sqrt{b^2 - 4ac}}{2a}
            $$
            
            And math environments
            $$
            \begin{aligned}
            F_{x} &= P\sin\theta - B\\
            F_{y} &= P\cos\theta - W
            \end{aligned}
            $$
        
            ::: collapse Example 1
            
            Some text and math for example 1.
        
            $$c^{2} = a^{2} + b^{2} - 2ab\cos(C)$$
        
            Inline math works too $\pi=3.1415\cdots$.
            :::
        </div>
        <div class="tab-pane fade markdownit" id="tables" role="tabpanel">
            ## Tables
        
            ### Markdown Syntax
        
            #### Headerless
            
            |--------------------------------------------------------------------|------------------------------|
            | ${s_2} = {s_1} + {v}_{avg}\cdot \Delta t$                          | Average Velocity Equation    |
            | ${s}_{2}={s}_{1}+\left ( \frac{{v}^2_{2}-{v}^2_{1}}{2{a}}\right )$ | "No Time Available" Equation |
            <!-- {table:.eftable}-->
        
            #### With Headers
        
            | `Column 1` | *Column 2* |
            |:-----------|------------|
            | a          | b          |
            | c          | __d__      |
        
            ### Or HTML
            
            <table class="eftable" markdown="1">
            <tbody>
            <tr>
            <td>
            ${s_2} = {s_1} + {v}_{avg}\cdot \Delta t$
            </td>
            <td>Average Velocity Equation</td>
            </tr>
            <tr>
            <td>${v_2}={v_1}+{a}\cdot \Delta t$</td>
            <td>Acceleration Equation</td>
            </tr>
            </tbody>
            </table>
        
        <style type="text/css" rel="stylesheet">
        .eftable {
        empty-cells: hide;
        margin-right: auto;
        }
        
        td,th {
            border: 1px solid #999;
            padding: 0.5rem;
        }
        
        
        </style>
        
            <script type="text/javascript">
            </script>
            
          </div>
        
    </div>
  
  <div id="efmarkdown">
    This is an alert <!-- {.alert .alert-primary} -->

    ::: section Announcements
    This is an anouncement.
    - Item 1
    - Item 2
    :::
  </div>

  </div>

<pre>jquery</pre>
  <!--script src="./highlight.pack.js"></script-->
<script
			  src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
			  integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
  crossorigin="anonymous"></script>
<pre>sript efmarkdown.test.js</pre>
<script src="./efmarkdown.test.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<pre>inline javascript</pre>
<script type="text/javascript">
    /*import('./markdown-containers.js')
        .then(({markdownContainers}) => {
            console.log('modules', markdownContainers);
            efmarkdown.addContainers(markdownContainers);
        });*/
    
    console.log('efmarkdown', efmarkdown);
    document.querySelectorAll('.mixedmarkdown')
    .forEach(function(el) {
        console.log("innerHTML", el.innerHTML, "textContent", el.textContent);
    });

    console.time('markdown');

    var el = document.getElementById('efmarkdown');
    el.innerHTML = efmarkdown.render(el.innerHTML);

    var list = document.querySelectorAll('.markdownit');
    list.forEach(function(el) {
      efmarkdown.renderElement(el);
    });

    /* or with jQuery
    $('.markdownit').each((idx, el) => {
        efmarkdown.renderElement(el); // convenience function for el.innerHTML = efmarkdown.render(el.innerHTML)
      });*/
    console.timeEnd('markdown');
  </script>
</body>
</html>
